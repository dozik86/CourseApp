<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="UTF-8"/>
    <title>Instructions</title>
    <link rel="stylesheet" type="text/css" href="webjars/bootstrap/4.0.0-beta-1/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/css/index.css"/>
    <link rel="stylesheet" type="text/css" href="/jqcloud/jqcloud.min.css"/>
    <script src="/webjars/jquery/3.0.0/jquery.min.js" type="text/javascript"></script>
    <script th:src="@{/popper.js/popper.min.js}"></script>
    <script src="/webjars/bootstrap/4.0.0-beta-1/js/bootstrap.min.js" type="text/javascript"></script>
    <script th:src="@{/jQCloud/jqcloud.min.js}"></script>


</head>
<body th:style="'background-color: ' + ${#themes.code('body.background.color')}">

<div th:replace="nav :: navbar"></div>
<div class="container">
    <div class="row mt-5">
        <h2 class="header" th:text="#{index.header.last}">Latest instructions</h2>

    </div>
    <div class="row">
        <div class="col-lg-6">
            <hr>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-3 text-center border pt-4 pb-4 instr" th:each="instruction : ${lastInstructions}">
            <a th:href="@{'/instruction/' + ${instruction.getId()}}" >
                <img class="pb-3" th:src="${instruction.steps[0].images[0].link}" width="85%" height="50%">
            </a>
            <br>
            <span class="font-weight-bold header" th:text="${instruction.getName()}"></span><br><br>
            <span class="font-italic " th:text="${#strings.abbreviate(instruction.steps[0].text,140)}"></span><br>
            <a  th:href="@{'/instruction/' + ${instruction.getId()}}" th:text="#{index.readmore}">Read more</a>
        </div>
    </div>

    <div class="row mt-5">
        <h2 class="header" th:text="#{index.header.top}">Top instructions</h2>

    </div>
    <div class="row">
        <div class="col-lg-6">
            <hr>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-3 text-center border pt-4 instr pb-4" th:each="instruction : ${topInstructions}">
            <a th:href="@{'/instruction/' + ${instruction.getId()}}">
                <img class="pb-3" th:src="${instruction.steps[0].images[0].link}" width="85%" height="50%">
            </a>
            <br>
            <span class="font-weight-bold header" th:text="${instruction.getName()}"></span><br><br>
            <span class="font-italic " th:text="${#strings.abbreviate(instruction.steps[0].text,140)}"></span><br>
            <a th:href="@{'/instruction/' + ${instruction.getId()}}" th:text="#{index.readmore}">Read more</a>
        </div>
    </div>
    <div class="row justify-content-center">
        <div id="tag-cloud">

        </div>
    </div>
</div>


<script th:src="@{/js/index.js}"></script>


</body>
</html>